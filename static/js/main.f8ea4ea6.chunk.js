(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(4),r=n.n(o),i=(n(10),n(9)),s=n(3),u=n(5),l=(n(16),n(1));var j=function(e){var t=e.handleInput,n=e.handleFormSubmit,a=e.imgName;return Object(l.jsxs)("form",{className:"SearchForm",onSubmit:n,children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{value:a,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:t})]})};n(18);var m=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsx)(j,{handleFormSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):u.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e.")},handleInput:function(e){var t=e.currentTarget.value;r(t)},imgName:o})})};n(19);var b=function(e){var t=e.id,n=e.alt,a=e.webformatURL,c=e.largeImageURL,o=e.onClick,r=e.scrollStatus,i={id:t,alt:n,largeImageURL:c};return Object(l.jsxs)("li",{className:"ImageGalleryItem",onClick:function(){o(i)},children:[Object(l.jsx)("img",{src:a,alt:n,"data-imglarge":c,className:"ImageGalleryItem-image"}),r&&void setTimeout((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),100)]},t)};n(20);var d=function(e){var t=e.handleLoadMoreButton;return Object(l.jsx)("button",{type:"button",className:"Button",onClick:function(){return t()},children:"Load more"})},h=(n(21),n(11)),f=n.n(h);n(42);var g=function(e){var t=e.onCLickImg,n=e.onBtnClick,c=e.error,o=e.status,r=e.imgCards,i=Object(a.useState)(!1),u=Object(s.a)(i,2),j=u[0],m=u[1],h=function(e){t(e),m(!1)};return"idle"===o?null:"pending"===o?Object(l.jsx)("div",{className:"loader",children:Object(l.jsx)(f.a,{type:"Bars",color:"#00BFFF",height:80,width:80,timeout:3e3})}):"resolved"===o?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ul",{className:"ImageGallery",children:r.map((function(e){var t=e.id,n=e.webformatURL,a=e.largeImageURL,c=e.tags;return Object(l.jsx)(b,{id:t,alt:c,webformatURL:n,largeImageURL:a,onClick:h,scrollStatus:j},t)}))}),Object(l.jsx)(d,{handleLoadMoreButton:function(){n(),m(!0)}})]}):"rejected"===o?Object(l.jsx)("h2",{children:c.message}):void 0},O=(n(43),document.querySelector("#modal-root"));function v(e){var t=e.imgInfo,n=e.onClose,c=Object(a.useCallback)((function(e){"Escape"===e.code&&(n(),window.removeEventListener("keydown",c))}),[n]);return Object(a.useEffect)((function(){window.addEventListener("keydown",c)}),[c]),Object(o.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&(n(),window.removeEventListener("keydown",c))},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:t.largeImageURL,alt:t.alt})})}),O)}var p="https://pixabay.com/api",x="key=22260377-843feab13a68cee38d30608c2";var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchQuery,n=void 0===t?"":t,a=e.page,c=void 0===a?1:a,o=e.pageSize,r=void 0===o?12:o;return fetch("".concat(p,"/?q=").concat(n,"&page=").concat(c,"&").concat(x,"&image_type=photo&orientation=horizontal&per_page=").concat(r)).then((function(e){if(200===e.status)return e.json()}))},C=(n(44),"idle"),w="pending",k="resolved",y="rejected";var I=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(s.a)(o,2),j=r[0],b=r[1],d=Object(a.useState)(null),h=Object(s.a)(d,2),f=h[0],O=h[1],p=Object(a.useState)(1),x=Object(s.a)(p,2),I=x[0],L=x[1],F=Object(a.useState)([]),N=Object(s.a)(F,2),B=N[0],E=N[1],R=Object(a.useState)(null),U=Object(s.a)(R,2),T=U[0],M=U[1],G=Object(a.useState)(C),P=Object(s.a)(G,2),q=P[0],z=P[1],D=function(e){b(!j),O(e)};return Object(a.useEffect)((function(){if(n){z(w),S({searchQuery:n,page:I}).then((function(e){var t=e.hits;if(0===t.length)return z(C),u.b.error("\u041d\u0435 \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a !!!");E((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),z(k)})).catch((function(e){M(e),z(y)}))}}),[n,I]),Object(l.jsxs)("div",{className:"App",children:[j&&Object(l.jsx)(v,{onClose:D,imgInfo:f}),Object(l.jsx)(u.a,{autoClose:3e3}),Object(l.jsx)(m,{onSubmit:function(e){c(e),L(1),E([]),M(null)}}),Object(l.jsx)(g,{imgCards:B,error:T,status:q,onCLickImg:D,onBtnClick:function(){return L((function(e){return e+1}))}})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(I,{})}),document.getElementById("root")),L()}},[[45,1,2]]]);
//# sourceMappingURL=main.f8ea4ea6.chunk.js.map